<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Pira-Guia | Pontos Turísticos</title>

    <script src="./js/sessao.js"></script>
    <script src="js/scriptLogin.js"></script>
    <script src="js/scripit_perfil.js"></script>
    <script src="js/pontos_turisticos.js"></script>

    <!-- mapa -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <!-- mapa -->

    <link rel="stylesheet" href="./css/style_header.css">
    <link rel="stylesheet" href="./css/style_logado.css">
    <link rel="stylesheet" href="./css/Style_entrar-cadastrar.css">
    <link rel="stylesheet" href="./css/style_pontos_turisticos.css">
    <link rel="stylesheet" href="./css/style_corpo.css">
    <link rel="stylesheet" href="./css/style_rodape.css">

    <!-- <link rel="preconnect" href="https://fonts.googleapis.com"> -->


    <!-- <link rel="icon" href="./assets/icon/favicon2.ico" /> -->
    <link rel="stylesheet" href="./css/style.css" />

    <!-- <link rel="preconnect" href="https://fonts.gstatic.com" /> -->
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet" />

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


</head>
<!-- header -->
<header>
    <ul class="ul_header">

        <li class="li_header_img"><a class="a_header" href="#"><img src="./assets/pirajulogo.PNG" width="130px"></a>
        </li>

        <li class="li_header2"><a class="a_header" href="Home_logado.html">SOBRE PIRAJU</a></li>

        <li class="li_header2"><a class="a_header" href="PT_logado.html">PONTOS TURÍSTICOS</a></li>

        <li class="li_header2"><a class="a_header" href="#">HOSPEDAGEM</a></li>

        <!-- <li class="li_header"><a class="a_header" href="#"> EXPERIÊNCIAS</a></li> -->

        <li><a class="a_header" href="#">
                <div><i id="user_header" onclick="menu_perfil()" class='bx bxs-user-circle'></i>
            </a></li>

    </ul>
</header>
<!-- header -->

<!-- div perfil -->
<div class="box_perfil_menu">
    <div class="perfil_menu" id="div_perfil_menu">
        <ul>
            <li class="li_perfil_icone"><a class="a_icone_perfil" href="#">Meu perfil</a></li><br>
            <li class="li_perfil_icone"><a class="a_icone_perfil" href="./index.html">Sair <i
                        class='bx bx-log-out'></i></a>
            </li>
        </ul>
    </div>
</div>

<!-- div perfil -->

<!-- box avalie ponto turistico -->
<div class="entrar_fundo">

    <div class="cadastrar_container" id="div_avaliar_container">



        <div class="entrar_corpo">

            <div class="entrar_corpo_fundo">
                <div class="entrar_corpo_header">
                    <div class="entrar_header">
                        <div id="div_sair_container" class="sair_container" onclick="sair()">X</div>
                    </div>
                </div>

                <div class="entrar_corpo_conteudo">

                    <div class="txt1_corpo">
                        <form id="form_postagem" method="post" onsubmit="return publicar()">
                        AVALIE OS PONTOS TURÍSTICOS <br>
                        DE ACORDO COM SUAS VIVÊNCIAS E EXPERIÊNCIAS <br>
                    </div>

                    <div class="txt1_corpo">Selecione um ponto turístico:</div>

                    <div class="select_option">
                        <select id="turisticos">
                            <option value="1">Ponte Engenheiro Nelson de Godoy Pereira
                            <option value="2">Igreja Matriz
                            <option value="3">Tirolesa das Corredeiras
                            <option value="4">Cachoeira do Arco Iris
                            <option value="5">Mirante do Cristo Redentor
                            <option value="6">Parque do Rio Paranapanema
                            </option>
                        </select>
                    </div>
                    <div class="txt_relato">Comentário:</div>
                    <div class="box_email"><textarea maxlength="250" rows="5"
                            placeholder="Insira aqui seu comentário(até 250 caracteres)" class="input_decoracao3"
                            id="descricao" type="text"></textarea></div>
                    <div class="txt1_corpo">De uma nota de 1 a 5 estrelas</div>
                    <div class="txt1_corpo">
                        <div id="starRating" class="rating">
                            <span class="star" onclick="rate(1)"><i id="id_estrelas1" class='bx bxs-star' value="1"></i></span>
                            <span class="star" onclick="rate(2)"><i id="id_estrelas2" class='bx bxs-star' value="2"></i></span>
                            <span class="star" onclick="rate(3)"><i id="id_estrelas3" class='bx bxs-star' value="3"></i></span>
                            <span class="star" onclick="rate(4)"><i id="id_estrelas4" class='bx bxs-star' value="4"></i></span>
                            <span class="star" onclick="rate(5)"><i id="id_estrelas5" class='bx bxs-star' value="5"></i></span>
                        </div>
                    </div>
                    <p id="ratingPercentage" class="txt1_corpo">Nota: 0</p>
                </div>
                <div class="box_botao"><button class="botao_avaliar" onclick="">Enviar avaliação</button>
                </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- box avalie ponto turistico -->

<!-- corpo inicio -->

<body class="body">


    <div class="container_corpo">
        <div class="box_titulo">
            <div class="corpo_titulo1">Olá <span id="b_usuario">usuário</span>,
                conheça os pontos turísticos e explore a beleza da nossa cidade !</div>
        </div>
    </div>


    <div class="corpo1">
        <div class="container_corpo">
            <div class="box_titulo">
                <div class="corpo_titulo1"> Ponte Engenheiro Nelson de Godoy Pereira</div>
            </div>
            <div class="corpo_txt">
                <div class="txt_pt">
                    Uma ponte suspensa que atravessa o Rio Paranapanema, proporcionando vistas panorâmicas e uma
                    experiência
                    única.
                    <div class="card_dados">
                        <div class="nota">
                        Nota:<span id="media1"></span> 
                        </div>
                        <span id="qtdPessoas"></span>  pessoas avaliaram esse local
                        <div class="estrela"><button onclick="avaliar()" class="avaliar">Avaliar</button>
                            <p class="ver_ava" ><i class='bx bxs-chat'></i><a href="ver_avaliacoes.html">Ver avaliações</a></p>
                        </div>
                    </div>
                </div>
                <div class="corpo_img">
                    <div class="slides">
                        <input type="radio" name="slide" id="slide1" checked>
                        <input type="radio" name="slide" id="slide2">
                        <input type="radio" name="slide" id="slide3">
                        <input type="radio" name="slide" id="slide4">
                        <input type="radio" name="slide" id="slide5">


                        <div class="slide s1">
                            <img src="assets/imgs/ponte1.jpg">
                        </div>
                        <div class="slide s2">
                            <img src="assets/imgs/ponte2.jpg">
                        </div>
                        <div class="slide s3">
                            <img src="assets/imgs/ponte3.jpg">
                        </div>
                        <div class="slide s4">
                            <img src="assets/imgs/Ponte 4.jpg">
                        </div>
                        <div class="slide s5">
                            <img src="assets/imgs/2e792ed8b5fedafaae2ac1f1515b3f9b.jpg">
                        </div>

                        <div class="navigation">
                            <label class="bar" for="slide1"></label>
                            <label class="bar" for="slide2"></label>
                            <label class="bar" for="slide3"></label>
                            <label class="bar" for="slide4"></label>
                            <label class="bar" for="slide5"></label>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="corpo1">
        <div class="container_corpo">
            <div class="box_titulo">
                <div class="corpo_titulo1"> Igreja Matriz</div>
            </div>
            <div class="corpo_txt">
                <div class="txt_pt">
                    Uma igreja histórica que representa a arquitetura religiosa da região. <br>
                    Detalhes arquitetônicos, obras de arte sacra e a atmosfera espiritual fazem dela um local de
                    interesse cultural.
                    <div class="card_dados">
                        <div class="nota">
                            Nota:
                        </div>
                        10 pessoas avaliaram esse local
                        <div class="estrela"><button onclick="avaliar()" class="avaliar">Avaliar</button>
                            <p class="ver_ava"> <i class='bx bxs-chat'></i> Ver avaliações</p>
                        </div>
                    </div>
                </div>
                <div class="corpo_img">

                    <div class="slides">
                        <input type="radio" name="slide" id="slide1" checked>
                        <input type="radio" name="slide" id="slide2">
                        <input type="radio" name="slide" id="slide3">
                        <input type="radio" name="slide" id="slide4">
                        <input type="radio" name="slide" id="slide5">


                        <div class="slide s1">
                            <img src="assets/imgs/igreja1.jpg">
                        </div>
                        <div class="slide s2">
                            <img src="assets/imgs/igreja2.webp">
                        </div>
                        <div class="slide s3">
                            <img src="assets/imgs/igreja3.jpg">
                        </div>
                        <div class="slide s4">
                            <img src="assets/imgs/igreja6.jpg">
                        </div>
                        <div class="slide s5">
                            <img src="assets/imgs/igreja8.jpg">
                        </div>

                        <div class="navigation">
                            <label class="bar" for="slide1"></label>
                            <label class="bar" for="slide2"></label>
                            <label class="bar" for="slide3"></label>
                            <label class="bar" for="slide4"></label>
                            <label class="bar" for="slide5"></label>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="corpo1">
        <div class="container_corpo">
            <div class="box_titulo">
                <div class="corpo_titulo1"> Tirolesa das Corredeiras</div>
            </div>
            <div class="corpo_txt">
                <div class="txt_pt">
                    Esta incrível aventura oferece uma vista panorâmica das famosas corredeiras do Rio Paranepanema.
                    <br>
                    Os cabos da Tirolesa percorrem um total de aproximadamente 500m, com altura de oitenta e um metros
                    acima do rio .
                    <!-- Horário de funcionamento: <br>
                    6as feiras das 16h às 22h – Sábados das 14h às 22h e aos Domingos das 10h às 18h -->
                    <div class="card_dados">
                        <div class="nota" id="notas">
                            Nota:<div id="div_mensagem"></div>
                        </div>
                        10 pessoas avaliaram esse local
                        <div class="estrela"><button onclick="avaliar2()" class="avaliar">Avaliar</button>
                            <p class="ver_ava"> <i class='bx bxs-chat'></i> Ver avaliações</p>
                        </div>
                    </div>
                </div>
                <div class="corpo_img">

                    <div class="slides">
                        <input type="radio" name="slide" id="tirolesa1" checked>
                        <input type="radio" name="slide" id="tirolesa2">
                        <input type="radio" name="slide" id="tirolesa3">
                        <input type="radio" name="slide" id="tirolesa4">
                        <input type="radio" name="slide" id="tirolesa5">


                        <div class="slide s1">
                            <img src="assets/imgs/tirolesa1.jpg">
                        </div>
                        <div class="slide s2">
                            <img src="assets/imgs/tirolesa2.jpg">
                        </div>
                        <div class="slide s3">
                            <img src="assets/imgs/tirolesa3.jpg">
                        </div>
                        <div class="slide s4">
                            <img src="assets/imgs/tirolesa3.jpg">
                        </div>
                        <div class="slide s5">
                            <img src="assets/imgs/tirolesa3.jpg">
                        </div>

                        <div class="navigation">
                            <label class="bar" for="tirolesa1"></label>
                            <label class="bar" for="tirolesa2"></label>
                            <label class="bar" for="tirolesa3"></label>
                            <label class="bar" for="tirolesa4"></label>
                            <label class="bar" for="tirolesa5"></label>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>




    <div class="corpo1">
        <div class="container_corpo">
            <div class="box_titulo">
                <div class="corpo_titulo1"> Cachoeira do Arco Iris</div>
            </div>
            <div class="corpo_txt">
                <div class="txt_pt">
                    Uma ponte suspensa que atravessa o Rio Paranapanema, proporcionando vistas panorâmicas e uma
                    experiência
                    única.
                    <div class="card_dados">
                        <div class="nota">
                            Nota:
                        </div>
                        10 pessoas avaliaram esse local
                        <div class="estrela"><button onclick="avaliar()" class="avaliar">Avaliar</button>
                            <p class="ver_ava"> <i class='bx bxs-chat'></i> Ver avaliações</p>
                        </div>
                    </div>
                </div>
                <div class="corpo_img">

                    <div class="slides">
                        <input type="radio" name="slide" id="slide1" checked>
                        <input type="radio" name="slide" id="slide2">
                        <input type="radio" name="slide" id="slide3">
                        <input type="radio" name="slide" id="slide4">
                        <input type="radio" name="slide" id="slide5">


                        <div class="slide s1">
                            <img src="assets/imgs/tirolesa1.jpg">
                        </div>
                        <div class="slide s2">
                            <img src="assets/imgs/tirolesa2.jpg">
                        </div>
                        <div class="slide s3">
                            <img src="assets/imgs/tirolesa3.jpg">
                        </div>
                        <div class="slide s4">
                            <img src="assets/imgs/tirolesa3.jpg">
                        </div>
                        <div class="slide s5">
                            <img src="assets/imgs/tirolesa3.jpg">
                        </div>

                        <div class="navigation">
                            <label class="bar" for="slide1"></label>
                            <label class="bar" for="slide2"></label>
                            <label class="bar" for="slide3"></label>
                            <label class="bar" for="slide4"></label>
                            <label class="bar" for="slide5"></label>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</body>
<!-- corpo fim -->

<!--footer inicio-->
<div class="rodape">

    <div class="navegacao_img">
        <p> <img src="./assets/pirajulogo.PNG" width="130px"></p>
    </div>

    <div class="navegacao">
        <p class="titulo_navegacao">Navegação</p>
        <a class="a_navegacao" href="#">SOBRE PIRAJU</a><br>
        <a class="a_navegacao" href="#">PONTOS TURÍSTICOS</a><br>
        <a class="a_navegacao" href="#">HOSPEDAGEM</a><br>
        <a class="a_navegacao" href="#">EXPERIÊNCIAS</a><br>
        <a class="a_navegacao" href="#">ENTRAR</a><br>
        <a class="a_navegacao" href="#">CADASTRE-SE</a><br>
    </div>


    <div class="navegacao">
        <p class="titulo_navegacao">Todos os direitos reservados</p>
        <p>Piratuor,2023</p>
    </div>

    <div class="redes_sociais">

        <ul class="ul_rodape">
            <li class="li_rodape"> <a href="https://outlook.office.com/mail/"
                    target="https://outlook.office.com/mail/"><i class='bx bx-envelope'></i></a>
            <li class="li_rodape"><a href="https://outlook.office.com/mail/"
                    target="https://outlook.office.com/mail/"><i class='bx bxl-instagram' id="instagram"></i></a>
            <li class="li_rodape"><a href="https://outlook.office.com/mail/"
                    target="https://outlook.office.com/mail/"><i class='bx bxl-github'></i></a>
            <li class="li_rodape"><a href="https://outlook.office.com/mail/"
                    target="https://outlook.office.com/mail/"><i class='bx bxl-whatsapp'></i></a>
            </li>
        </ul>
    </div>
</div>

<!--footer fim-->

<!-- chartjs -->
<script>
    function avaliar2() {
        min = 1;
        max = 10;
        intervalo = Number(max - min);
        var a = intervalo * Math.random() + min
        if (a > 0 && a < 4) {
            notas.classList.add("nota_vermelha");

            notas.classList.remove("nota_verde");
            notas.classList.remove("nota_amarela");

        } else if (a < 7) {
            notas.classList.add("nota_amarela");

            notas.classList.remove("nota_verde");
            notas.classList.remove("nota_vermelha");
        } else {
            notas.classList.add("nota_verde");

            notas.classList.remove("nota_vermelha");
            notas.classList.remove("nota_amarela");
        }
        div_mensagem.innerHTML = `${a.toFixed(1)}`

    }

</script>
<!-- fazer avaliação script -->
<script>
    var selectedStars = 0;

    function rate(stars) {
        for (i = 1; i <= 5; i++) {
            estrelaAtual = document.getElementById(`id_estrelas${i}`);
            if (i <= stars) {
                estrelaAtual.classList.add("estrela_preenchida");
            } else {
                estrelaAtual.classList.remove("estrela_preenchida");
            }
        }
        selectedStars = stars;
        updateRating();
    }

    function updateRating() {
        const ratingPercentage = Number(selectedStars);
        document.getElementById('ratingPercentage').innerText = `Nota: ${ratingPercentage.toFixed(1)} `;
    }



// <!-- fazer avaliação script -->
    b_usuario.innerHTML = sessionStorage.NOME_USUARIO;
    media1.innerHTML = sessionStorage.NOTA_AVISO;
    qtdPessoas.innerHTML = sessionStorage.ID_AVISO;
    
     function limparFormulario() {
        document.getElementById("form_postagem").reset();
    }

    function publicar() {
        var idUsuario = sessionStorage.ID_USUARIO;

        var corpo = {
            titulo: form_postagem.turisticos.value,
            descricao: form_postagem.descricao.value,
            nota: selectedStars
        }

        fetch(`/avisos/publicar/${idUsuario}`, {
            method: "post",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(corpo)
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Post realizado com sucesso pelo usuario de ID: " + idUsuario + "!");
                window.location = "/PT_logado.html";
                limparFormulario();
                // finalizarAguardar();
            } else if (resposta.status == 404) {
                window.alert("Deu 404!");
                // alert("Deu 404!")
            } else {
                throw ("Houve um erro ao tentar realizar a postagem! Código da resposta: " + resposta.status);
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });

        return false;

    }

    // function editar(idAviso) {
    //     sessionStorage.ID_POSTAGEM_EDITANDO = idAviso;
    //     console.log("cliquei em editar - " + idAviso);
    //     window.alert("Você será redirecionado à página de edição do aviso de id número: " + idAviso);
    //     window.location = "/dashboard/edicao-aviso.html"

    // }

    // function deletar(idAviso) {
    //     console.log("Criar função de apagar post escolhido - ID" + idAviso);
    //     fetch(`/avisos/deletar/${idAviso}`, {
    //         method: "DELETE",
    //         headers: {
    //             "Content-Type": "application/json"
    //         }
    //     }).then(function (resposta) {

    //         if (resposta.ok) {
    //             window.alert("Post deletado com sucesso pelo usuario de email: " + sessionStorage.getItem("EMAIL_USUARIO") + "!");
    //             window.location = "/dashboard/mural.html"
    //         } else if (resposta.status == 404) {
    //             window.alert("Deu 404!");
    //         } else {
    //             throw ("Houve um erro ao tentar realizar a postagem! Código da resposta: " + resposta.status);
    //         }
    //     }).catch(function (resposta) {
    //         console.log(`#ERRO: ${resposta}`);
    //     });
    // }

    // function atualizarFeed() {
    //     fetch("/avisos/listar").then(function (resposta) {
    //         if (resposta.ok) {
    //             if (resposta.status == 204) {
    //                 var feed = document.getElementById("feed_container");
    //                 var mensagem = document.createElement("span");
    //                 mensagem.innerHTML = "Nenhum resultado encontrado."
    //                 feed.appendChild(mensagem);
    //                 throw "Nenhum resultado encontrado!!";
    //             }

    //             resposta.json().then(function (resposta) {
    //                 console.log("Dados recebidos: ", JSON.stringify(resposta));

    //                 var feed = document.getElementById("feed_container");
    //                 feed.innerHTML = "";
    //                 for (let i = 0; i < resposta.length; i++) {
    //                     var publicacao = resposta[i];

    //                     // criando e manipulando elementos do HTML via JavaScript
    //                     var divPublicacao = document.createElement("div");
    //                     var spanID = document.createElement("span");
    //                     var spanTitulo = document.createElement("span");
    //                     var spanNome = document.createElement("span");
    //                     var divDescricao = document.createElement("div");
    //                     var divButtons = document.createElement("div");
    //                     var btnEditar = document.createElement("button");
    //                     var btnDeletar = document.createElement("button");


    //                     spanID.innerHTML = "ID: <b>" + publicacao.idAviso + "</b>";
    //                     spanTitulo.innerHTML = "Título: <b>" + publicacao.titulo + "</b>";
    //                     spanNome.innerHTML = "Autor: <b>" + publicacao.nome + "</b>";
    //                     divDescricao.innerHTML = "Descrição: <b>" + publicacao.descricao + "</b>";
    //                     btnEditar.innerHTML = "Editar";
    //                     btnDeletar.innerHTML = "Deletar";

    //                     divPublicacao.className = "publicacao";
    //                     spanTitulo.id = "inputNumero" + publicacao.idAviso;
    //                     spanNome.className = "publicacao-nome";
    //                     spanTitulo.className = "publicacao-titulo";
    //                     divDescricao.className = "publicacao-descricao";

    //                     divButtons.className = "div-buttons"

    //                     btnEditar.className = "publicacao-btn-editar"
    //                     btnEditar.id = "btnEditar" + publicacao.idAviso;
    //                     btnEditar.setAttribute("onclick", `editar(${publicacao.idAviso})`);

    //                     btnDeletar.className = "publicacao-btn-editar"
    //                     btnDeletar.id = "btnDeletar" + publicacao.idAviso;
    //                     btnDeletar.setAttribute("onclick", `deletar(${publicacao.idAviso})`);

    //                     divPublicacao.appendChild(spanID);
    //                     divPublicacao.appendChild(spanNome);
    //                     divPublicacao.appendChild(spanTitulo);
    //                     divPublicacao.appendChild(divDescricao);
    //                     divPublicacao.appendChild(divButtons);
    //                     divButtons.appendChild(btnEditar);
    //                     divButtons.appendChild(btnDeletar);
    //                     feed.appendChild(divPublicacao);
    //                 }

    //                 finalizarAguardar();
    //             });
    //         } else {
    //             throw ('Houve um erro na API!');
    //         }
    //     }).catch(function (resposta) {
    //         console.error(resposta);
    //         finalizarAguardar();
    //     });
    // }
</script>