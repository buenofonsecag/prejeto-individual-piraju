<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>PiraTour | Sobre Piraju</title>

  <script src="./js/sessao.js"></script>
  <script src="js/scriptLogin.js"></script>
  <script src="js/alert.js"></script>

  <!-- mapa -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <!-- mapa -->

  <link rel="stylesheet" href="./css/Style_entrar-cadastrar.css">
  <link rel="stylesheet" href="./css/style_header.css">
  <link rel="stylesheet" href="./css/style_rodape.css">
  <link rel="stylesheet" href="./css/style_corpo.css">
  <link rel="stylesheet" href="./css/style_pontos_turisticos.css">

  <link rel="icon" href="./assets/pirajulogo.PNG" />
  <link rel="stylesheet" href="./css/style.css" />
  <!-- <link rel="preconnect" href="https://fonts.gstatic.com" /> -->
  <link
    href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet" />

  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

</head>
<header>
  <ul class="ul_header">

    <li class="li_header_img"><a class="a_header" href="#"><img src="./assets/pirajulogo.PNG" width="130px"></a></li>

    <li class="li_header"><a class="a_header" href="index.html">SOBRE PIRAJU</a></li>

    <li class="li_header"><a class="a_header" href="./pontos_turisticos.html">PONTOS TURÍSTICOS</a></li>

    <li class="li_header"><a class="a_header" onclick="entrar_entrar()">ESTATÍSTICAS</a></li>

    <!-- <li class="li_header"><a class="a_header" href="#"> EXPERIÊNCIAS</a></li> -->

    <li class="li_header_cadastrar" onclick="entrar_cadastrar()"><a class="a_header_cadastrar">CADASTRE-SE</a></li>

    <li class="li_header_entrar" onclick="entrar_entrar()"><a class="a_header_entrar">ENTRAR</a></li>
  </ul>
</header>

<!-- alert erro -->
<div class="card_erro" id="cardErro">
  <span id="mensagem_erro"></span>
</div>
<!-- alert erro -->



<!-- DIV QUE EXIBE O LOGIN  -->
<div class="entrar_fundo">
  <div class="cadastrar_container" id="div_entrar_container">
    <div class="entrar_corpo">
      <div class="entrar_corpo_fundo">
        <div class="entrar_corpo_header">
          <div class="entrar_header">
            <div id="div_sair_container" class="sair_container" onclick="sair()">X</div>
          </div>
        </div>
        <div class="img-perfil"><i class='bx bxs-user-circle'></i></div>
        <div class="entrar_corpo_conteudo">
          <!-- <form onsubmit="criar_conta()" method="post"> -->
          <div class="txt1_corpo">
            Login<br>
          </div>
          <div class="box_email"><input type="text" placeholder="E-mail:" class="input_decoracao" type="text"
              id="email_input2"></div>
          <div class="box_email"><input type="password" placeholder="Senha:" class="input_decoracao" id="senha_input2">
          </div>
          <div class="box_botao">
            <button onclick="entrar()" class="botao_entrar">Entrar</button>
          </div>
          <!-- </form> -->
          <div class="box_ou">
            <div class="linha"></div>ou <div class="linha"></div>
          </div><br>
          <div class="box_botao"><button class="botao_cadastrar" onclick="criar_conta()">Criar nova conta</button></div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- DIV QUE EXIBE O LOGIN  -->

<!-- alert cadastro realizado -->
<div id="alert" class="custom-alert">
  <img src="assets/gif.check.gif" alt="GIF">
  <p>Cadastro realizado com sucesso !</p>
</div>
<!-- alert cadastro realizado -->

<!-- alert Login realizado -->
<div id="alert2" class="custom-alert">
  <img src="assets/gif.check.gif" alt="GIF">
  <p>Login realizado com sucesso <br>
    ... redirecionando</p>
</div>
<!-- alert Login realizado -->

<!-- cadastro inicio -->
<div class="entrar_fundo">

  <div class="cadastrar_container" id="div_cadastrar_container">


    <div class="entrar_corpo">
      <div class="entrar_corpo_fundo">
        <div class="entrar_corpo_header">
          <div class="entrar_header">
            <div id="div_sair_container" class="sair_container" onclick="sair()">X</div>
          </div>
        </div>

        <div class="titulo_cadastro">Cadastre-se</div>
        <div class="txt2_corpo">Preencha todos campos a seguir:</div>
        <!-- <form onsubmit="cadastrar()" method="post" action="/usuarios/cadastrar"> -->

        <div class="box_email"><input placeholder="Nome:" class="input_decoracao2" type="text" id="nome_input">
        </div>

        <div class="box_email"><input placeholder="E-mail:" class="input_decoracao2" type="email" id="email_input">
        </div>

        <div class="box_email"><input type="password" placeholder="Senha:" class="input_decoracao2" id="senha_input">
        </div>

        <div class="box_email"><input type="password" placeholder="Confirmar Senha:" class="input_decoracao2"
            autocomplete="nova senha" id="confirmacao_senha_input"></div><br>
        <!-- </form> -->

        <div class="txt3_corpo">Você já visitou Piraju?</div>
        <div class="box_radio">
          <div class="box_email">Sim <input class="radio" type="radio" name="visitou" id="nao" value="Sim">
          </div>
          <div class="box_email">Não<input class="radio" type="radio" name="visitou" id="sim" value="Nao">
          </div>
        </div><br>
        <div class="box_botao"><button class="botao_cadastrar" onclick="cadastrar()">Cadastrar</button></div>
      </div>

    </div>
  </div>
  <br>

  <!-- <div class="box_ou"> -->
  <!-- <div class="linha"></div>ou<div class="linha"></div> -->
  <!-- </div><br> -->

  <!-- <p class="txt2_corpo">Já possui conta?Entrar</p> -->

</div>
<!-- cadstro fim  -->

<div id="div_erros_login"></div>

<!-- corpo inicio -->

<body class="body">

  <div class="container_corpo">
    <!-- <img src="/prejetooo/site/public/assets/imgs/eupiraju.jpg" > -->
    <div class="box_titulo">
      <!-- <div class="corpo_titulo1">Bem-vindo ao PiraGuia, seu guia virtual de Piraju</div> -->
      <div class="corpo_titulo5">Bem-vindo ao PiraTour, seu tour virtual por Piraju</div>
    </div>

    <div class="corpo_txt_center">
      <center>
        Seja muito bem-vindo ao nosso site de turismo dedicado a Piraju, uma jóia do interior paulista ! <br> Estamos
        entusiasmados em tê-lo conosco para explorar as maravilhas desta cidade encantadora.
      </center>
    </div>
  </div>

  <div class="container_corpo2">
  </div>

  <div class="corpo2">
    <div class="container_corpo">
      <div class="box_titulo">
        <div class="corpo_titulo1">Sobre Piraju:
        </div>
      </div>

      <div class="corpo_txt">
        <!-- Sou suspeito para falar de Piraju, pois morei muitos anos nessa pequena cidade do interior de São Paulo.

        Meus pais moram lá, e quando volto a visita, consigo apreciar melhor suas belezas naturais. -->

        Você deve ter pensado, que nome é esse? O que é isso? Vou explicar, em guarani, Pira = peixe e yu = amarelo, ou
        seja,
        Piraju significa "peixe amarelo", pois haviam muitos peixes Dourados na região. <br> Tanto que virou o símbolo
        da cidade, em uma das entradas, lá está o grande pescado dando as boas vindas. <br><br>

        O lugar é pequeno, mas é considerado Estância Turística do Estado, pela sua natureza e história. <br> Piraju
        é conhecida nacionalmente pela tradição no plantio do café, que é de ótima qualidade e pelas suas
        usinas hidrelétricas, foi a primeira cidade no Brasil a ter energia elétrica. <br><br>

        Cachoeiras, prainha de água doce, pedalinho, rafting, descanso, festas. <br>Tem programação para todos os
        gostos e a população sabe acolher muito bem os turistas. <br>
      </div>
    </div>
  </div>

  <div class="corpo">
    <div class="container_corpo">
      <div class="box_titulo">
        <div class="corpo_titulo1">História e Patrimônio:</div>
      </div>
      <div class="corpo_txt">
        • Raízes Históricas: <br><br>

        O município de Piraju, localizado no interior do estado de São Paulo, possui uma história rica e profundamente
        entrelaçada com o desenvolvimento da região. Fundado em 1896, seu nome tem origem indígena, derivado de
        "Pirayú", que significa "peixe cortado". <br> Essa referência evidencia a importância do Rio Paranapanema, que
        banha as terras de Piraju e desempenha um papel fundamental na formação da identidade local. <br><br>

        • Centro Histórico Preservado: <br><br>

        Ao caminhar pelas ruas de paralelepípedos do centro histórico, é possível sentir a atmosfera nostálgica que
        permeia as construções preservadas. <br> Casarões, igrejas e praças contam a história da cidade, revelando a
        arquitetura característica de diferentes épocas. <br> Destacam-se a Igreja Matriz de São Sebastião, um marco
        religioso e arquitetônico, e o Museu Histórico e Pedagógico de Piraju, que abriga peças que remontam aos
        primeiros momentos da colonização. <br>

        <br><br>• Expressões Culturais e Tradições Locais: <br><br>

        Piraju celebra suas tradições por meio de eventos e festivais que unem passado e presente. <br> A Festa de São
        Sebastião, padroeiro da cidade, é um exemplo emblemático, reunindo a comunidade em celebrações religiosas,
        apresentações culturais e manifestações folclóricas. <br> Esses momentos festivos ressaltam a importância de
        preservar e compartilhar as raízes que moldaram Piraju ao longo dos anos.
      </div>
    </div>
  </div>

  <div class="corpo2">
    <div class="container_corpo">
      <div class="box_titulo">
        <div class="corpo_titulo1"> Localização <i class='bx bxs-map'></i></div>
      </div>
      <div class="corpo_txt">
        • Estado: São Paulo. <br><br>
        • Região: Sudeste do Brasil. <br><br>
        • Distâncias: Piraju está localizada a uma certa distância de cidades vizinhas e centros urbanos, o que pode ser
        relevante para visitantes e turistas. <br>
        <div id="map"></div>
      </div>
    </div>
  </div>

  <div class="corpo">
    <div class="container_corpo">
      <div class="box_titulo">
        <div class="corpo_titulo1">População</div>
      </div>
      <div class="corpo_txt">
        • População no último censo [2022] 29.436 pessoas <br>
        • Densidade demográfica [2022] 58,34 habitantes por km² e uma média de 2,66 moradores por residência. <br>
      </div>
    </div>
  </div>

  <div class="corpo2">
    <div class="container_corpo">
      <div class="box_titulo">
        <div class="corpo_titulo1">Patrimônio Natural e Sustentável:
        </div>
      </div>

      <div class="corpo_txt">
        Além do patrimônio histórico, a cidade se orgulha de seu patrimônio natural, representado pelo majestoso Rio
        Paranapanema. Essas águas não apenas influenciaram a economia local, mas também proporcionam lazer e
        tranquilidade aos habitantes e visitantes. Áreas de preservação ambiental e parques urbanos complementam o
        cenário, enfatizando o compromisso de Piraju com a sustentabilidade e a apreciação da natureza.
      </div><br>
      <div class="box_email">
        <div class="corpo_txt_verde"> 3. Saúde e Bem-estar</div>
        <div class="corpo_txt_azul"> 7. Energia Acessível e Limpa</div>
        <div class="corpo_txt_azul2"> 14. Vida na água</div>
      </div>
    </div>
  </div>
  </div>

</body>
<!-- corpo fim -->

<!--footer inicio-->
<div class="rodape">

  <div class="navegacao_img">
    <p> <img src="./assets/pirajulogo.PNG" width="130px"></p>
  </div>

  <div class="navegacao">
    <p class="titulo_navegacao">Navegação</p>
    <a class="a_navegacao" href="index.html">SOBRE PIRAJU</a><br>
    <a class="a_navegacao" href="pontos_turisticos.html">PONTOS TURÍSTICOS</a><br>
    <a class="a_navegacao" onclick="entrar_entrar()">ESTATÍSTICAS</a><br>
    <!-- <a class="a_navegacao" href="#">EXPERIÊNCIAS</a><br> -->
    <a class="a_navegacao" onclick="entrar_entrar()">ENTRAR</a><br>
    <a class="a_navegacao" onclick="entrar_cadastrar()">CADASTRE-SE</a><br>
  </div>


  <div class="navegacao">
    <p class="titulo_navegacao">Todos os direitos reservados</p>
    <p>PiraTour,2023</p>
  </div>

  <div class="redes_sociais">

    <ul class="ul_rodape">
      <li class="li_rodape"> <a href="https://outlook.office.com/mail/" target="https://outlook.office.com/mail/"><i
            class='bx bx-envelope'></i></a>
      <li class="li_rodape"><a href="https://www.instagram.com/gustavo__bueno__/"
          target="https://www.instagram.com/gustavo__bueno__/"><i class='bx bxl-instagram' id="instagram"></i></a>
      <li class="li_rodape"><a href="https://github.com/buenofonsecag/prejetooo"
          target="https://github.com/buenofonsecag/prejetooo"><i class='bx bxl-github'></i></a>
      <li class="li_rodape"><a href=" https://wa.me/5511933923464" target=" https://wa.me/5511933923464"><i
            class='bx bxl-whatsapp'></i></a>
      </li>
    </ul>
  </div>
</div>
<!--footer fim-->

</html>

<!-- cadastro -->
<script>
  function cadastrar() {
    // cadastrar2();
    //Recupere o valor da nova input pelo nome do id
    // Agora vá para o método fetch logo abaixo
    var nomeVar = nome_input.value;
    var emailVar = email_input.value;
    var senhaVar = senha_input.value;
    var confirmacaoSenhaVar = confirmacao_senha_input.value;
    var valorSelecionado = document.querySelector('.box_email input[type="radio"]:checked');
    var opcaoVar = valorSelecionado.value;

    // var idusuarioVar = sessionStorage.ID_USUARIO;
    // var empresaVar = listaEmpresas.value
    if (
      nomeVar == "" ||
      emailVar == "" ||
      senhaVar == "" ||
      confirmacaoSenhaVar == ""
    ) {
      cardErro.style.display = "block";
      mensagem_erro.innerHTML = "(Mensagem de erro para algum  dos campos em branco)";

      setTimeout(() => {
        cardErro.style.display = "none";
      }, "2000");

      // finalizarAguardar();
      return false;

    } else if (senhaVar != confirmacaoSenhaVar) {
      cardErro.style.display = "block";
      mensagem_erro.innerHTML = "(* As senhas estão diferentes !)";
      setTimeout(() => {
        cardErro.style.display = "none";
      }, "2000");
      return false;


    } else if (emailVar.indexOf("@") == -1) {
      cardErro.style.display = "block";
      mensagem_erro.innerHTML = "(* Insira um e-mail válido)";
      setTimeout(() => {
        cardErro.style.display = "none";
      }, "2000");
      return false;


    } else if (senhaVar.length < 5) {
      cardErro.style.display = "block";
      mensagem_erro.innerHTML = "(* • Sua senha não possui pelo menos 5 caracteres !)";
      setTimeout(() => {
        cardErro.style.display = "none";
      }, "2000");
      return false;


    } else {

    }

    // Enviando o valor da nova input
    fetch("/usuarios/cadastrar", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/usuario.js
        nomeServer: nomeVar,
        emailServer: emailVar,
        senhaServer: senhaVar,
        opcaoServer: opcaoVar

      }),
    })
      .then(function (resposta) {
        console.log("resposta: ", resposta);

        if (resposta.ok) {
          // cardErro.style.display = "block";

          // mensagem_erro.innerHTML =
          //   "Cadastro realizado com sucesso! Redirecionando para tela de Login...";
          sair();
          setTimeout(() => {
            // window.location = "login.html";
            entrar_entrar();
          }, "2000");

          aguardar();
          // limparFormulario();
          // finalizarAguardar();
        } else {
          throw "Houve um erro ao tentar realizar o cadastro!";
        }
      })
      .catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
        // finalizarAguardar();
      });

    return false;
  }
  function sumirMensagem() {
    cardErro.style.display = "none";
  }
</script>
<!-- cadastro -->

<!-- cadastro -->
<script>
  function cadastrar2() {
    //Recupere o valor da nova input pelo nome do id
    // Agora vá para o método fetch logo abaixo

    var nomeVar = nome_input.value;
    var emailVar = email_input.value;
    var senhaVar = senha_input.value;
    var confirmacaoSenhaVar = confirmacao_senha_input.value;
    var valorSelecionado = document.querySelector('.box_email input[type="radio"]:checked');
    var opcaoVar = valorSelecionado.value;

    // var idusuarioVar = sessionStorage.ID_USUARIO.value;
    // var empresaVar = listaEmpresas.value
    if (
      nomeVar == "" ||
      emailVar == "" ||
      senhaVar == "" ||
      opcaoVar == "" ||
      confirmacaoSenhaVar == ""
    ) {
      cardErro.style.display = "block";
      mensagem_erro.innerHTML = "(Mensagem de erro para algum dos campos em branco)";

      setTimeout(() => {
        cardErro.style.display = "none";
      }, "2000");
      return false;
    } else {

    }


    // Enviando o valor da nova input
    fetch("/usuarios/cadastrar2", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/usuario.js
        opcaoServer: opcaoVar
      }),
    })
      .then(function (resposta) {
        console.log("resposta: ", resposta);

        if (resposta.ok) {
          sair();
          setTimeout(() => {
            entrar_entrar();
          }, "2000");

          aguardar();
        } else {
          throw "Houve um erro ao tentar realizar o cadastro!";
        }
      })
      .catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
      });

    return false;
  }
  function sumirMensagem() {
    cardErro.style.display = "none";
  }
</script>
<!-- cadastro -->

<!-- login -->
<script>
  function entrar() {
    console.log("Iniciando a função entrar()...")
    // aguardar();

    var emailVar2 = email_input2.value;
    var senhaVar2 = senha_input2.value;

    if (emailVar2 == "" || senhaVar2 == "") {
      cardErro.style.display = "block"
      mensagem_erro.innerHTML = "Alerta de erro (Preencha todos os campos)";
      setTimeout(() => {
        cardErro.style.display = "none";
      }, "2000");
      alert("algo está errado")
      return false;
       
      // finalizarAguardar();
    }
    else {
      alert
      cardErro.style.display = "block"
      mensagem_erro.innerHTML = "E-mail ou senha incorretos, tente novamente";
      setTimeout(() => {
        cardErro.style.display = "none";
      }, "2000");
      console.log("erro de alguma coisaaaa")
      // aguardar2();

    }

    console.log("FORM LOGIN: ", emailVar2);
    console.log("FORM SENHA: ", senhaVar2);

    fetch("/usuarios/autenticar", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        emailServer2: emailVar2,
        senhaServer2: senhaVar2
      })
    }).then(function (resposta) {
      console.log("ESTOU NO THEN DO entrar()!")

      if (resposta.ok) {
        console.log(resposta);
        // console.log("erro de alguma coisa")


        resposta.json().then(json => {
          console.log(json);
          console.log(JSON.stringify(json));
          sessionStorage.EMAIL_USUARIO = json.email;
          sessionStorage.NOME_USUARIO = json.nome;
          sessionStorage.ID_USUARIO = json.id;
          // sessionStorage.AQUARIOS = JSON.stringify(json.aquarios)

          setTimeout(function () {
            window.location = "Home_logado.html";
          }, 1000); // apenas para exibir o loading

        });
        aguardar2();
      } else {
        console.log("Houve um erro ao tentar realizar o login!");
        console.log("Houve um erro ao tentar realizar o login!");
        // alert("erro agora");

        resposta.text().then(texto => {
          console.error(texto);
          // finalizarAguardar(texto);
        });
      }

    }).catch(function (erro) {
      console.log("Houve um erro na chamada fetch:", erro); x
      console.log(erro);
    })

    return false;
  }

  function sumirMensagem() {
    cardErro.style.display = "none"
  }
</script>
<!-- Login -->

<!-- mapa -->
<script>
  var map = L.map('map').setView([-23.1938, -49.3844], 15);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
    {
      attribution: '© PiraTour'
    }).addTo(map);

  L.marker([-23.1935, -49.3843]).addTo(map)
    // .bindPopup('Piraju')
    .openPopup();
</script>
<!-- mapa -->